<base href="..">

<link rel="import" href="bower_components/protoboard/out/service/acl.html">
<link rel="import" href="bower_components/protoboard/out/utils.html">

<link rel="import" href="src/dijs.html">
<link rel="import" href="src/ui.html">

<script type="text/javascript">
  DI
      .prefix('gz')
      .bind(
          'acl',
          {
            Acl: '/pb.service.=',
            ui: '=',
            Utils: '/pb.=',
          },
          function($i) {
    return function(document) {
      var ui = $i.ui(document);
      ui
          .forPlayers()
          .getArea()
          .async()
          .then(function(playerAreas) {
            playerAreas.forEach(function(area) {
              $i.Acl.registerElement(area);
            });
          });
    };
  });
</script>
